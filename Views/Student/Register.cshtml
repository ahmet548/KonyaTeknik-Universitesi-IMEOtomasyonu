@{
    ViewData["Title"] = "Öğrenci İME Giriş";
    Layout = null;
    var missingFields = ViewBag.MissingFields as List<string> ?? new List<string>();
}
<!DOCTYPE html>

<html lang="en">

<head>
    <title>KTUN - Öğrenci İME Giriş</title>
    <link rel="shortcut icon" href="~/img/logo_2.ico">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="keywords" content="moodle, Konya Teknik Üniversitesi İşletmede Mesleki Eğitim: Siteye giriş yap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://lms.ktun.edu.tr/theme/styles.php/remui/1703591224_1/all">
    <link rel="stylesheet" href="~/styles/custom/css/KTUN-StudentLogin.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>


<body id="page-login-index" class="pagelayout-login">
    <div id="page" class="container-fluid loginright">
        <div id="page-content" class="row">
            <div id="region-main-box" class="col-12">
                <section id="region-main" class="" aria-label="İçerik">
                    <div class="login-wrapper">
                        <div class="login-container" style="background-color:#fff">
                            <div role="main">
                                <div class="loginform">
                                    <img src="~/img/ktunlogores.png" style="width: 326px; padding-left: 74px;">
                                    @if (ViewBag.Hata != null)
                                    {
                                        <div class="alert alert-danger">
                                            @ViewBag.Hata
                                        </div>
                                    }
                                    <h3 class="font-weight-bold iconsitename mt-5">Öğrenci Giriş</h3>
                                    <form method="post" action="/Student/SaveProfile">
                                        <input type="hidden" name="StudentID" value="@Model.UserID" />
                                        @if (missingFields.Contains("NationalID"))
                                        {
                                            <div class="form-group">
                                                <label for="NationalID">T.C. Kimlik No</label>
                                                <input type="text" id="NationalID" name="NationalID" class="form-control"
                                                    value="@Model.NationalID" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("FirstName"))
                                        {
                                            <div class="form-group">
                                                <label for="FirstName">Ad</label>
                                                <input type="text" id="FirstName" name="FirstName" class="form-control"
                                                    value="@Model.FirstName" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("LastName"))
                                        {
                                            <div class="form-group">
                                                <label for="LastName">Soyad</label>
                                                <input type="text" id="LastName" name="LastName" class="form-control"
                                                    value="@Model.LastName" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("AcademicYear"))
                                        {
                                            <div class="form-group">
                                                <label for="AcademicYear">Akademik Yıl</label>
                                                <input type="number" id="AcademicYear" name="AcademicYear"
                                                    class="form-control" value="@Model.AcademicYear" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("NationalID"))
                                        {
                                            <div class="form-group">
                                                <label for="NationalID">T.C. Kimlik No</label>
                                                <input type="text" id="NationalID" name="NationalID" class="form-control"
                                                    value="@Model.NationalID" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("BirthDate"))
                                        {
                                            <div class="form-group">
                                                <label for="BirthDate">Doğum Tarihi</label>
                                                <input type="date" id="BirthDate" name="BirthDate" class="form-control"
                                                    value="@Model.BirthDate.ToString("yyyy-MM-dd")" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("SchoolNumber"))
                                        {
                                            <div class="form-group">
                                                <label for="SchoolNumber">Okul Numarası</label>
                                                <input type="text" id="SchoolNumber" name="SchoolNumber"
                                                    class="form-control" value="@Model.SchoolNumber" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("PhoneNumber"))
                                        {
                                            <div class="form-group">
                                                <label for="PhoneNumber">Telefon Numarası</label>
                                                <input type="text" id="PhoneNumber" name="PhoneNumber" class="form-control"
                                                    value="@Model.PhoneNumber" />
                                            </div>
                                        }
                                        @if (missingFields.Contains("Address"))
                                        {
                                            <div class="form-group">
                                                <label for="Address">Adres</label>
                                                <textarea id="Address" name="Address"
                                                class="form-control">@Model.Address</textarea>
                                            </div>
                                        }
                                        @if (missingFields.Contains("Department"))
                                        {
                                            <div class="form-group">
                                                <label for="Department">Bölüm</label>
                                                <select id="Department" name="Department" class="form-control">
                                                    <option value="">Bölüm Seçiniz</option>

                                                    @foreach (var department in new[] {
                                                                                                "Bilgisayar Mühendisliği",
                                                                                                "Yazılım Mühendisliği",
                                                                                                "Elektrik-Elektronik Mühendisliği",
                                                                                                "Makine Mühendisliği",
                                                                                                "İnşaat Mühendisliği",
                                                                                                "Endüstri Mühendisliği"
                                                                                                })
                                                    {
                                                        if (Model.Department == department)
                                                        {
                                                            <option value="@department" selected>@department</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@department">@department</option>
                                                        }
                                                    }
                                                </select>
                                            </div>
                                        }

                                        @if (missingFields.Contains("Email"))
                                        {
                                            <div class="form-group">
                                                <label for="Email">Email</label>
                                                <input type="email" id="Email" name="Email" class="form-control"
                                                    value="@Model.Email" />
                                            </div>
                                        }
                                        <div class="form-group">
                                            <label for="supervisorFirstName">Sorumlu Personel Adı</label>
                                            <input type="text" id="supervisorFirstName" name="supervisorFirstName"
                                                class="form-control" />
                                        </div>
                                        <div class="form-group">
                                            <label for="supervisorLastName">Sorumlu Personel Soyadı</label>
                                            <input type="text" id="supervisorLastName" name="supervisorLastName"
                                                class="form-control" />
                                        </div>

                                        <div class="form-group">
                                            <label for="InternshipTitle">Staj Başlığı</label>
                                            <input type="text" id="InternshipTitle" name="InternshipTitle"
                                                class="form-control" placeholder="Staj Başlığını Giriniz" />
                                        </div>

                                        <div class="form-group">
                                            <label for="startDate">Staj Başlangıç Tarihi</label>
                                            <input type="date" id="startDate" name="startDate" class="form-control" />
                                        </div>
                                        <div class="form-group">
                                            <label for="endDate">Staj Bitiş Tarihi</label>
                                            <input type="date" id="endDate" name="endDate" class="form-control" />
                                        </div>

                                        @* Çalışacağı Günler *@
                                        <div class="form-group">
                                            <label>Çalışacağı Günler</label>
                                            <div class="form-check">
                                                <input type="checkbox" id="Pazartesi" name="WorkDays" value="Pazartesi"
                                                    class="form-check-input" />
                                                <label for="Pazartesi" class="form-check-label">Pazartesi</label>
                                            </div>
                                            <div class="form-check">
                                                <input type="checkbox" id="Salı" name="WorkDays" value="Salı"
                                                    class="form-check-input" />
                                                <label for="Salı" class="form-check-label">Salı</label>
                                            </div>
                                            <div class="form-check">
                                                <input type="checkbox" id="Çarşamba" name="WorkDays" value="Çarşamba"
                                                    class="form-check-input" />
                                                <label for="Çarşamba" class="form-check-label">Çarşamba</label>
                                            </div>
                                            <div class="form-check">
                                                <input type="checkbox" id="Perşembe" name="WorkDays" value="Perşembe"
                                                    class="form-check-input" />
                                                <label for="Perşembe" class="form-check-label">Perşembe</label>
                                            </div>
                                            <div class="form-check">
                                                <input type="checkbox" id="Cuma" name="WorkDays" value="Cuma"
                                                    class="form-check-input" />
                                                <label for="Cuma" class="form-check-label">Cuma</label>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary btn-block">Kaydet</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</body>

<script>
    function togglePasswordVisibility() {
        const passwordField = document.getElementById("password");
        const passwordIcon = document.querySelector(".toggle-password i");
        const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
        passwordField.setAttribute("type", type);

        passwordIcon.classList.toggle("fa-eye");
        passwordIcon.classList.toggle("fa-eye-slash");
    }
</script>

</html>
